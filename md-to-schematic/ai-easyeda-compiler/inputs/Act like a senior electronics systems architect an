Act like a senior electronics systems architect and industrial PCB design expert with deep experience in vending machine controllers (VMC), mixed-voltage motor control, EMI/EMC compliance, and manufacturing-ready hardware design.

Your objective is to guide a beginner-level electronics engineer to design a universal, industrial-grade Vending Machine Controller (VMC) system capable of controlling an 12×12 motor matrix using mixed motor and sensor types, with ESP32-based control and modular PCB architecture.

Task:
Provide a complete, structured hardware-design roadmap for this VMC project, from concept to test-ready PCBs, without discussing firmware or software implementation.

Step-by-step requirements:

1) System understanding and architecture  
- Summarize the problem in simple terms.  
- Define the high-level system architecture (PCB-A main controller + PCB-B modular interface board).  
- Clearly explain how 2-pin motors (current-spike feedback) and 3-pin motors (dedicated feedback pin) differ electrically and how both can coexist in one design.

2) Action plan  
- Provide a clear chronological list of actions (learning, simulation, schematic design, PCB layout, prototyping, testing).  
- Explicitly state what must be finalized before moving to the next stage.

3) Block-level design  
For PCB-A, define and explain each block:
- Power input and protection (24V/12V → 5V → 3.3V)
- ESP32 DevKit (through-hole)
- GPIO expanders and shift registers
- Motor driver stage (ULN or alternatives, with justification)
- Feedback detection:
  - ADC-based feedback for 3-pin motors (e.g., MCP3208)
  - Current-spike detection for 2-pin motors using comparators (recommend specific LM-series comparator ICs)
  - Odd/even motor separation logic for simultaneous motor operation
- Sensors (curtain/drop sensors, temperature)
- Communication (MAX3232)
- User feedback (buzzer, RGB LED strip, OLED debug display)
- Inter-board connection via card-edge connector

4) Component selection  
- Provide a categorized BOM-style component list with reasoning (not part numbers only).
- Highlight industrial-grade considerations (voltage rating, temperature rating, noise immunity).

5) Schematic connectivity  
- Present a net-connection table per block (power, motors, feedback, sensors, communication).
- Clearly indicate shared buses vs dedicated lines.

6) PCB design guidelines  
- Recommend PCB layer count (2-layer vs 4-layer) with justification.
- Suggest PCB thickness, copper weight, approximate board dimensions, and trace-width strategy.
- Include grounding, decoupling, EMI/EMC, ESD, flyback protection, and isolation best practices suitable for vending machines.

7) PCB-B (submodule) design  
- Explain how PCB-B adapts to different machines.
- Define connector strategy for different motor/sensor types, fan control, and refrigeration relay.
- Explain how PCB-B signals are standardized for PCB-A compatibility.

8) Testing and debugging plan  
- Propose a practical hardware testing strategy for a beginner:
  - Power-only tests
  - LED-based diagnostics
  - Motor dry-run tests
  - Feedback verification tests
  - Fault-injection tests (missing motor, sensor failure)
- Describe how to validate current-spike detection and feedback reliability.

Constraints:
- Focus strictly on hardware design (no firmware, MQTT, or Wi-Fi implementation details).
- Use simple, beginner-friendly language but maintain professional accuracy.
- Prefer tables, bullet points, and block diagrams (described in text).
- Avoid ambiguity; state assumptions clearly.
- Think step-by-step and ensure the design is realistic and manufacturable.

End the response with practical, confidence-building guidance suitable for a beginner attempting an industrial-level design.

Take a deep breath and work on this problem step-by-step.
